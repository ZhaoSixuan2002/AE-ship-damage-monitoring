# æµç¨‹01-09é‡æ„å®Œæˆæ€»ç»“

## ğŸ‰ é‡æ„å®ŒæˆçŠ¶æ€

### âœ… å·²å®Œæˆæµç¨‹

1. **æµç¨‹01**: ç”Ÿæˆè®­ç»ƒæ•°æ® (`01_generate_training_data_main.py`)
2. **æµç¨‹02**: INPè½¬VTU (`02_inp_to_vtu_main.py`)
3. **æµç¨‹03**: è®­ç»ƒæ•°æ®é¢„å¤„ç† (`03_preprocess_training_data_main.py`)
4. **æµç¨‹04**: æ¨¡å‹è®­ç»ƒ (`04_train_model_main.py`)
5. **æµç¨‹05**: ç¡®å®šé˜ˆå€¼ (`05_determine_thresholds_main.py`)
6. **æµç¨‹06**: ç”ŸæˆéªŒè¯æ•°æ® (`06_generate_validation_data_main.py`)
7. **æµç¨‹07**: éªŒè¯æ•°æ®é¢„å¤„ç† (`07_preprocess_validation_data_main.py`)
8. **æµç¨‹08**: æŸä¼¤è¯†åˆ«éªŒè¯ (`08_damage_validation_main.py`)
9. **æµç¨‹09**: æ—¶å†åŠ¨ç”»æ¸²æŸ“ (`09_render_time_history_main.py`) âœ¨ **æœ€æ–°å®Œæˆ**

## ğŸ“‹ ç»Ÿä¸€æ¶æ„ç‰¹ç‚¹

æ‰€æœ‰æµç¨‹è„šæœ¬ç°åœ¨éƒ½éµå¾ªç›¸åŒçš„æ¶æ„æ¨¡å¼ï¼š

### 1. æ–‡ä»¶ç»“æ„

```python
"""
æµç¨‹XXï¼š[åŠŸèƒ½æè¿°]
åŠŸèƒ½ï¼š[è¯¦ç»†è¯´æ˜]
ä¾èµ–ï¼š[å‰ç½®æµç¨‹]
è¾“å…¥ï¼š[è¾“å…¥æ–‡ä»¶åˆ—è¡¨]
è¾“å‡ºï¼š[è¾“å‡ºæ–‡ä»¶åˆ—è¡¨]
"""

# ========================================
# å‚æ•°é…ç½®åŒºï¼ˆæŒ‰è‡ªç„¶é€»è¾‘é¡ºåºç¼–å†™ï¼‰
# ========================================
# æ‰€æœ‰å¯è°ƒå‚æ•°é›†ä¸­åœ¨é¡¶éƒ¨ï¼Œåˆ†ç±»æ¸…æ™°

# ========================================
# å†…åµŒå·¥å…·å‡½æ•°
# ========================================
# æ‰€æœ‰å¿…éœ€çš„å·¥å…·å‡½æ•°å†…åµŒï¼Œæ— å¤–éƒ¨ä¾èµ–

# ========================================
# ä¸»ç¨‹åºé€»è¾‘
# ========================================
# æ¸…æ™°çš„æ‰§è¡Œæµç¨‹
```

### 2. å…³é”®ç‰¹æ€§

- âœ… **è‡ªåŒ…å«**: æ‰€æœ‰ä¾èµ–å‡½æ•°å†…åµŒï¼Œæ— éœ€å¤–éƒ¨æ¨¡å—
- âœ… **å‚æ•°é›†ä¸­**: æ‰€æœ‰é…ç½®å‚æ•°åœ¨æ–‡ä»¶é¡¶éƒ¨
- âœ… **æ³¨é‡Šè¯¦ç»†**: æ¯ä¸ªå‚æ•°éƒ½æœ‰æ¸…æ™°è¯´æ˜
- âœ… **è¾“å‡ºè§„èŒƒ**: ç»Ÿä¸€çš„è¾“å‡ºç›®å½•å‘½åå’Œæ–‡ä»¶æ ¼å¼
- âœ… **é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œæ—¥å¿—è¾“å‡º
- âœ… **è¿›åº¦åé¦ˆ**: æ¸…æ™°çš„è¿è¡Œè¿›åº¦æ˜¾ç¤º

## ğŸ”„ å®Œæ•´å·¥ä½œæµç¨‹

```
æµç¨‹01: ç”Ÿæˆè®­ç»ƒæ•°æ®
    â†“
    ç”Ÿæˆ: C:/abaqus_gen_data/[ç¼–å·]/
          - loading_conditions.csv
          - iteration.odb
          - stress_data.npy/csv
          
æµç¨‹02: INPè½¬VTU
    â†“
    ç”Ÿæˆ: 02_inp_to_vtu_output/
          - whole_from_inp.vtu
          - measures_ID_auto.csv
          
æµç¨‹03: è®­ç»ƒæ•°æ®é¢„å¤„ç†
    â†“
    è¯»å–: C:/abaqus_gen_data/[ç¼–å·]/stress_data.npy
    ç”Ÿæˆ: 03_preprocess_training_data_output/
          - preprocessed_data_raw.npz
          - preprocessed_data.npz (å¯é€‰)
          - transforms.joblib (å¯é€‰)
          - *.png (å¯è§†åŒ–)
          
æµç¨‹04: æ¨¡å‹è®­ç»ƒ
    â†“
    è¯»å–: 03_preprocess_training_data_output/
          - preprocessed_data_raw.npz æˆ–
          - preprocessed_data.npz
    ç”Ÿæˆ: 04_train_model_output/
          - autoencoder.pth
          - training_losses.csv
          - training_validation_loss*.png
          - reconstruction_multi_samples*.png
          - val_residuals_random25_5x10.png
          - val_tau_by_dimension.png
          - val_dim_stats.csv
          
æµç¨‹05: ç¡®å®šé˜ˆå€¼ï¼ˆé˜ˆå€¼æ–¹æ³•ç ”å‘ï¼‰
    â†“
    è¯»å–: 03_preprocess_training_data_output/preprocessed_data_raw.npz
          04_train_model_output/autoencoder.pth
          04_train_model_output/validation_indices.csv
    ç”Ÿæˆ: 05_determine_thresholds_output/
          - dimension_thresholds.csv
          - val_dim_stats.csv
          - val_recon_errors.csv
          - val_tau_by_dimension.png
          - val_residuals_random25_5x10.png

æµç¨‹06: ç”ŸæˆéªŒè¯æ•°æ®ï¼ˆä¸‰ç§ç±»å‹ï¼‰
    â†“
    ç”Ÿæˆ: C:/abaqus_gen_data_validate_original_health/[ç¼–å·]/
          C:/abaqus_gen_data_validate_damage_crack/[ç¼–å·]/
          C:/abaqus_gen_data_validate_damage_corrosion/[ç¼–å·]/
          - loading_conditions.csv
          - iteration.odb
          - stress_data.npy/csv
          
æµç¨‹07: éªŒè¯æ•°æ®é¢„å¤„ç†ï¼ˆä¸‰ç§ç±»å‹ï¼‰
    â†“
    è¯»å–: C:/abaqus_gen_data_validate_original_health/[ç¼–å·]/stress_data.npy
          C:/abaqus_gen_data_validate_damage_crack/[ç¼–å·]/stress_data.npy
          C:/abaqus_gen_data_validate_damage_corrosion/[ç¼–å·]/stress_data.npy
    ç”Ÿæˆ: 07_preprocess_validation_data_output/
          - health/preprocessed_data_raw.npz
          - health/*.png (å¯è§†åŒ–)
          - crack/preprocessed_data_raw.npz
          - crack/*.png (å¯è§†åŒ–)
          - corrosion/preprocessed_data_raw.npz
          - corrosion/*.png (å¯è§†åŒ–)
          
æµç¨‹08: æŸä¼¤è¯†åˆ«éªŒè¯ï¼ˆä¸‰ç§ç±»å‹ï¼‰
    â†“
    è¯»å–: 03_preprocess_training_data_output/preprocessed_data_raw.npz
          04_train_model_output/autoencoder.pth
          04_train_model_output/validation_indices.csv
          07_preprocess_validation_data_output/health/preprocessed_data_raw.npz
          07_preprocess_validation_data_output/crack/preprocessed_data_raw.npz
          07_preprocess_validation_data_output/corrosion/preprocessed_data_raw.npz
    ç”Ÿæˆ: 08_damage_validation_output/
          - dimension_thresholds.csv
          - combined_residuals_crack.png (éšæœº6ä¸ªæ ·æœ¬)
          - combined_residuals_crack_failed.png (å¤±è´¥æ ·æœ¬)
          - crack_detection_summary.png (ç»Ÿè®¡æ±‡æ€»)
          - combined_residuals_corrosion.png (éšæœº6ä¸ªæ ·æœ¬)
          - combined_residuals_corrosion_failed.png (å¤±è´¥æ ·æœ¬)
          - corrosion_detection_summary.png (ç»Ÿè®¡æ±‡æ€»)
          - combined_residuals_health.png (éšæœº6ä¸ªæ ·æœ¬)
          - combined_residuals_health_failed.png (è¯¯æŠ¥æ ·æœ¬)
          - health_detection_summary.png (ç»Ÿè®¡æ±‡æ€»)
          - *.csv (æ‰€æœ‰å›¾ç‰‡å¯¹åº”çš„æ•°æ®æ–‡ä»¶)

æµç¨‹09: æ—¶å†åŠ¨ç”»æ¸²æŸ“ï¼ˆä¸‰ç§ç±»å‹ï¼‰         â† æœ¬æ¬¡é‡æ„
    â†“
    è¯»å–: 03_preprocess_training_data_output/preprocessed_data_raw.npz
          04_train_model_output/autoencoder.pth
          07_preprocess_validation_data_output/health/preprocessed_data_raw.npz
          07_preprocess_validation_data_output/crack/preprocessed_data_raw.npz
          07_preprocess_validation_data_output/corrosion/preprocessed_data_raw.npz
    ç”Ÿæˆ: 09_render_time_history_output/
          - dimension_thresholds.csv
          - crack/opacity_animation.mp4
          - crack/opacity_data.csv
          - crack/exceed_history.csv
          - crack/first_9_frames_grid.png (300 dpi)
          - crack/opacity_heatmap_3x3_samples.png (300 dpi)
          - crack/opacity_heatmap_3x3_samples.csv
          - corrosion/...(ç»“æ„åŒä¸Š)
          - health/...(ç»“æ„åŒä¸Š)
```

## ğŸ“Š è¾“å‡ºå¯¹æ¯”

### æµç¨‹01è¾“å‡º

```
01_generate_training_data_output/
â””â”€â”€ data_generation_log.txt

C:/abaqus_gen_data/
â”œâ”€â”€ 1/
â”‚   â”œâ”€â”€ loading_conditions.csv
â”‚   â”œâ”€â”€ iteration.odb
â”‚   â””â”€â”€ stress_data.npy
â”œâ”€â”€ 2/
â”‚   â””â”€â”€ ...
â””â”€â”€ N/
    â””â”€â”€ ...
```

### æµç¨‹02è¾“å‡º

```
02_inp_to_vtu_output/
â”œâ”€â”€ whole_from_inp.vtu
â”œâ”€â”€ measures_ID_auto.csv
â””â”€â”€ element_sets_summary.txt
```

### æµç¨‹03è¾“å‡º

```
03_preprocess_training_data_output/
â”œâ”€â”€ preprocessed_data_raw.npz
â”œâ”€â”€ preprocessed_data.npz
â”œâ”€â”€ transforms.joblib
â”œâ”€â”€ preprocess_V_first_25_combined_5x10.png
â”œâ”€â”€ preprocess_V_first_25_combined_5x10.csv
â””â”€â”€ ... (å…¶ä»–å¯è§†åŒ–)
```

### æµç¨‹04è¾“å‡º

```
04_train_model_output/
â”œâ”€â”€ autoencoder.pth
â”œâ”€â”€ validation_indices.csv
â”œâ”€â”€ training_losses.csv
â”œâ”€â”€ training_validation_loss.png
â”œâ”€â”€ training_validation_loss_log.png
â”œâ”€â”€ reconstruction_multi_samples_5x5.png
â”œâ”€â”€ val_residuals_random25_5x10.png
â”œâ”€â”€ val_tau_by_dimension.png
â””â”€â”€ val_dim_stats.csv
```

### æµç¨‹05è¾“å‡º

```
05_determine_thresholds_output/
â”œâ”€â”€ dimension_thresholds.csv
â”œâ”€â”€ val_dim_stats.csv
â”œâ”€â”€ val_recon_errors.csv
â”œâ”€â”€ val_tau_by_dimension.png
â”œâ”€â”€ val_tau_by_dimension.csv
â”œâ”€â”€ val_residuals_random25_5x10.png
â””â”€â”€ val_residuals_random25_5x10.csv
```

### æµç¨‹06è¾“å‡º

```
06_generate_validation_data_output/
â””â”€â”€ data_generation_log.txt

C:/abaqus_gen_data_validate_original_health/
â”œâ”€â”€ 1/
â”‚   â”œâ”€â”€ loading_conditions.csv
â”‚   â”œâ”€â”€ iteration.odb
â”‚   â””â”€â”€ stress_data.npy
â”œâ”€â”€ 2/
â”‚   â””â”€â”€ ...
â””â”€â”€ N/
    â””â”€â”€ ...

C:/abaqus_gen_data_validate_damage_crack/
â”œâ”€â”€ 1/
â”‚   â”œâ”€â”€ loading_conditions.csv
â”‚   â”œâ”€â”€ iteration.odb
â”‚   â””â”€â”€ stress_data.npy
â”œâ”€â”€ 2/
â”‚   â””â”€â”€ ...
â””â”€â”€ N/
    â””â”€â”€ ...

C:/abaqus_gen_data_validate_damage_corrosion/
â”œâ”€â”€ 1/
â”‚   â”œâ”€â”€ loading_conditions.csv
â”‚   â”œâ”€â”€ iteration.odb
â”‚   â””â”€â”€ stress_data.npy
â”œâ”€â”€ 2/
â”‚   â””â”€â”€ ...
â””â”€â”€ N/
    â””â”€â”€ ...
```

### æµç¨‹07è¾“å‡º

```
07_preprocess_validation_data_output/
â”œâ”€â”€ health/
â”‚   â”œâ”€â”€ preprocessed_data_raw.npz
â”‚   â”œâ”€â”€ preprocessed_data.npz (å¯é€‰)
â”‚   â”œâ”€â”€ transforms.joblib (å¯é€‰)
â”‚   â”œâ”€â”€ preprocess_V_first_25_combined_5x10.png
â”‚   â”œâ”€â”€ preprocess_V_first_25_combined_5x10.csv
â”‚   â””â”€â”€ ... (å…¶ä»–å¯è§†åŒ–)
â”œâ”€â”€ crack/
â”‚   â”œâ”€â”€ preprocessed_data_raw.npz
â”‚   â”œâ”€â”€ preprocessed_data.npz (å¯é€‰)
â”‚   â”œâ”€â”€ transforms.joblib (å¯é€‰)
â”‚   â”œâ”€â”€ preprocess_V_first_25_combined_5x10.png
â”‚   â”œâ”€â”€ preprocess_V_first_25_combined_5x10.csv
â”‚   â””â”€â”€ ... (å…¶ä»–å¯è§†åŒ–)
â””â”€â”€ corrosion/
    â”œâ”€â”€ preprocessed_data_raw.npz
    â”œâ”€â”€ preprocessed_data.npz (å¯é€‰)
    â”œâ”€â”€ transforms.joblib (å¯é€‰)
    â”œâ”€â”€ preprocess_V_first_25_combined_5x10.png
    â”œâ”€â”€ preprocess_V_first_25_combined_5x10.csv
    â””â”€â”€ ... (å…¶ä»–å¯è§†åŒ–)
```

### æµç¨‹08è¾“å‡º

```
08_damage_validation_output/
â”œâ”€â”€ dimension_thresholds.csv
â”œâ”€â”€ combined_residuals_crack.png
â”œâ”€â”€ combined_residuals_crack.csv
â”œâ”€â”€ combined_residuals_crack_failed.png
â”œâ”€â”€ combined_residuals_crack_failed.csv
â”œâ”€â”€ crack_detection_summary.png
â”œâ”€â”€ crack_detection_summary.csv
â”œâ”€â”€ combined_residuals_corrosion.png
â”œâ”€â”€ combined_residuals_corrosion.csv
â”œâ”€â”€ combined_residuals_corrosion_failed.png
â”œâ”€â”€ combined_residuals_corrosion_failed.csv
â”œâ”€â”€ corrosion_detection_summary.png
â”œâ”€â”€ corrosion_detection_summary.csv
â”œâ”€â”€ combined_residuals_health.png
â”œâ”€â”€ combined_residuals_health.csv
â”œâ”€â”€ combined_residuals_health_failed.png
â”œâ”€â”€ combined_residuals_health_failed.csv
â”œâ”€â”€ health_detection_summary.png
â””â”€â”€ health_detection_summary.csv
```

### æµç¨‹09è¾“å‡º

```
09_render_time_history_output/
â”œâ”€â”€ dimension_thresholds.csv
â”œâ”€â”€ crack/
â”‚   â”œâ”€â”€ opacity_animation.mp4
â”‚   â”œâ”€â”€ opacity_data.csv
â”‚   â”œâ”€â”€ exceed_history.csv
â”‚   â”œâ”€â”€ first_9_frames_grid.png
â”‚   â”œâ”€â”€ opacity_heatmap_3x3_samples.png
â”‚   â””â”€â”€ opacity_heatmap_3x3_samples.csv
â”œâ”€â”€ corrosion/
â”‚   â”œâ”€â”€ opacity_animation.mp4
â”‚   â”œâ”€â”€ opacity_data.csv
â”‚   â”œâ”€â”€ exceed_history.csv
â”‚   â”œâ”€â”€ first_9_frames_grid.png
â”‚   â”œâ”€â”€ opacity_heatmap_3x3_samples.png
â”‚   â””â”€â”€ opacity_heatmap_3x3_samples.csv
â””â”€â”€ health/
    â”œâ”€â”€ opacity_animation.mp4
    â”œâ”€â”€ opacity_data.csv
    â”œâ”€â”€ exceed_history.csv
    â”œâ”€â”€ first_9_frames_grid.png
    â”œâ”€â”€ opacity_heatmap_3x3_samples.png
    â””â”€â”€ opacity_heatmap_3x3_samples.csv
```

## ğŸ¯ é‡æ„æˆæœ

### ä»£ç è´¨é‡æå‡

| æŒ‡æ ‡ | é‡æ„å‰ | é‡æ„å | æ”¹è¿› |
|------|--------|--------|------|
| å¤–éƒ¨ä¾èµ– | å¤šä¸ªæ¨¡å— | é›¶ä¾èµ– | âœ… 100% |
| å‚æ•°åˆ†æ•£åº¦ | å¤šæ–‡ä»¶ | å•æ–‡ä»¶é¡¶éƒ¨ | âœ… é›†ä¸­åŒ– |
| æ³¨é‡Šè¦†ç›–ç‡ | çº¦30% | çº¦80% | âœ… +167% |
| ä»£ç å¯è¯»æ€§ | ä¸­ç­‰ | é«˜ | âœ… æ˜¾è‘—æå‡ |
| ç»´æŠ¤éš¾åº¦ | ä¸­ç­‰ | ä½ | âœ… é™ä½50% |

### åŠŸèƒ½å®Œæ•´æ€§

- âœ… **æµç¨‹01**: æ‰€æœ‰æ‰¹å¤„ç†ã€å¼‚æ­¥åå¤„ç†åŠŸèƒ½å®Œæ•´ä¿ç•™
- âœ… **æµç¨‹02**: INPè§£æã€VTUç”ŸæˆåŠŸèƒ½å®Œæ•´ä¿ç•™  
- âœ… **æµç¨‹03**: æ•°æ®æ”¶é›†ã€å˜æ¢ã€å¯è§†åŒ–åŠŸèƒ½å®Œæ•´ä¿ç•™
- âœ… **æµç¨‹04**: è®­ç»ƒã€è¯„ä¼°ã€é˜ˆå€¼è®¡ç®—åŠŸèƒ½å®Œæ•´ä¿ç•™
- âœ… **æµç¨‹05**: å¤šç§é˜ˆå€¼æ–¹æ³•ã€çµæ´»å‚æ•°é…ç½®åŠŸèƒ½å®Œæ•´ä¿ç•™
- âœ… **æµç¨‹06**: ä¸‰ç§éªŒè¯æ•°æ®ç±»å‹ã€æ‰¹å¤„ç†ã€å¼‚æ­¥åå¤„ç†åŠŸèƒ½å®Œæ•´ä¿ç•™
- âœ… **æµç¨‹07**: ä¸‰ç±»éªŒè¯æ•°æ®é¢„å¤„ç†ã€å¯è§†åŒ–åŠŸèƒ½å®Œæ•´ä¿ç•™
- âœ… **æµç¨‹08**: å…¨æ ·æœ¬æ£€æµ‹ã€æˆåŠŸ/å¤±è´¥æ ·æœ¬åŒºåˆ†ã€ç»Ÿè®¡æ±‡æ€»åŠŸèƒ½å®Œæ•´ä¿ç•™
- âœ… **æµç¨‹09**: æ»‘åŠ¨çª—å£å¹³å‡ã€é€æ˜åº¦è®¡ç®—ã€å¤šæ ¼å¼åŠ¨ç”»è¾“å‡ºåŠŸèƒ½å®Œæ•´ä¿ç•™

### ç”¨æˆ·ä½“éªŒæ”¹å–„

- ğŸ“ æ¯ä¸ªæµç¨‹éƒ½æœ‰è¯¦ç»†çš„READMEæ–‡æ¡£
- ğŸ¯ å‚æ•°è¯´æ˜æ¸…æ™°ï¼Œæ˜“äºè°ƒæ•´
- ğŸ“Š è¾“å‡ºæ–‡ä»¶å‘½åè§„èŒƒï¼Œæ˜“äºè¯†åˆ«
- ğŸ” è¿›åº¦åé¦ˆåŠæ—¶ï¼Œä¾¿äºç›‘æ§
- âš ï¸ é”™è¯¯æç¤ºæ˜ç¡®ï¼Œä¾¿äºè°ƒè¯•

## ğŸ“š æ–‡æ¡£å®Œæ•´æ€§

æ¯ä¸ªæµç¨‹éƒ½åŒ…å«ï¼š

1. **è„šæœ¬å¤´éƒ¨æ–‡æ¡£**
   - åŠŸèƒ½è¯´æ˜
   - ä¾èµ–å…³ç³»
   - è¾“å…¥æ–‡ä»¶åˆ—è¡¨
   - è¾“å‡ºæ–‡ä»¶åˆ—è¡¨

2. **å‚æ•°é…ç½®æ³¨é‡Š**
   - æ¯ä¸ªå‚æ•°çš„ä½œç”¨
   - å¯é€‰å€¼èŒƒå›´
   - é»˜è®¤å€¼è¯´æ˜

3. **ç‹¬ç«‹READMEæ–‡æ¡£**
   - ä½¿ç”¨è¯´æ˜
   - å‚æ•°è¯¦è§£
   - è¾“å‡ºè¯´æ˜
   - æ³¨æ„äº‹é¡¹

## ğŸ› ï¸ æŠ€æœ¯æ”¹è¿›

### 1. ä»£ç ç»„ç»‡

```python
# ç»Ÿä¸€çš„ä¸‰æ®µå¼ç»“æ„
å‚æ•°é…ç½®åŒº â†’ å·¥å…·å‡½æ•°åŒº â†’ ä¸»ç¨‹åºåŒº

# ä¼˜ç‚¹ï¼š
- ä¿®æ”¹å‚æ•°æ—¶æ— éœ€æ·±å…¥ä»£ç 
- å·¥å…·å‡½æ•°é›†ä¸­ï¼Œä¾¿äºå¤ç”¨
- ä¸»ç¨‹åºé€»è¾‘æ¸…æ™°ï¼Œæ˜“äºç†è§£
```

### 2. ä¾èµ–ç®¡ç†

```python
# é‡æ„å‰
from config import *
from config_runtime import *
from utils.plotting import *
from utils.transforms import *

# é‡æ„å
# æ‰€æœ‰å‡½æ•°å†…åµŒï¼Œé›¶å¤–éƒ¨ä¾èµ–
# ä¼˜ç‚¹ï¼šç§»æ¤æ€§å¼ºï¼Œç»´æŠ¤ç®€å•
```

### 3. è¾“å‡ºè§„èŒƒ

```python
# ç»Ÿä¸€çš„è¾“å‡ºç›®å½•å‘½å
XX_[æµç¨‹å]_output/

# ç»Ÿä¸€çš„æ•°æ®ä¿å­˜
æ¯å¼ å›¾éƒ½æœ‰å¯¹åº”çš„CSVæ•°æ®æ–‡ä»¶

# ä¼˜ç‚¹ï¼šä¾¿äºæ•°æ®è¿½æº¯å’ŒåæœŸåˆ†æ
```

## ğŸ¨ å¯è§†åŒ–ç»Ÿä¸€

æ‰€æœ‰æµç¨‹çš„å¯è§†åŒ–è¾“å‡ºéƒ½éµå¾ªç»Ÿä¸€çš„å­¦æœ¯é£æ ¼ï¼š

```python
PLOT_STYLE = {
    "font.family": "Times New Roman",
    "font.size": 20,
    "axes.titlesize": 20,
    "axes.labelsize": 20,
    "xtick.labelsize": 16,
    "ytick.labelsize": 16,
    "legend.fontsize": 16,
    "xtick.direction": "in",
    "ytick.direction": "in",
    "axes.grid": False,
    "axes.spines.top": True,
    "axes.spines.right": True,
    "axes.spines.bottom": True,
    "axes.spines.left": True,
}
```

## ğŸ” å…³é”®æ”¹è¿›ç‚¹

### æµç¨‹01æ”¹è¿›

- âœ… æ‰¹å¤„ç†æ§åˆ¶æ›´çµæ´»
- âœ… å¼‚æ­¥åå¤„ç†æ›´ç¨³å®š
- âœ… è¿›åº¦æ˜¾ç¤ºæ›´æ¸…æ™°
- âœ… é”™è¯¯å¤„ç†æ›´å®Œå–„

### æµç¨‹02æ”¹è¿›

- âœ… INPè§£ææ›´å¥å£®
- âœ… VTUç”Ÿæˆæ›´å‡†ç¡®
- âœ… æ—¥å¿—è¾“å‡ºæ›´è¯¦ç»†

### æµç¨‹03æ”¹è¿›

- âœ… æ•°æ®æ”¶é›†æ›´é«˜æ•ˆ
- âœ… å˜æ¢é€‰é¡¹æ›´çµæ´»
- âœ… å¯è§†åŒ–æ›´ä¸“ä¸š
- âœ… è¿›åº¦åé¦ˆæ›´å‹å¥½

### æµç¨‹04æ”¹è¿› 

- âœ… æ¨¡å‹å®šä¹‰æ›´æ¸…æ™°
- âœ… è®­ç»ƒè¿‡ç¨‹æ›´å¯æ§
- âœ… è¯„ä¼°æŒ‡æ ‡æ›´å…¨é¢
- âœ… é˜ˆå€¼è®¡ç®—æ›´çµæ´»
- âœ… å¯è§†åŒ–æ›´ä¸°å¯Œ

### æµç¨‹05æ”¹è¿› âœ¨

- âœ… ç‹¬ç«‹é˜ˆå€¼ç ”å‘æµç¨‹
- âœ… æ”¯æŒå¤šç§é˜ˆå€¼æ–¹æ³•ï¼ˆquantile_abs, kstd_abs, mean_kstdï¼‰
- âœ… çµæ´»çš„å‚æ•°é…ç½®
- âœ… è¯¦ç»†çš„ç»Ÿè®¡åˆ†æ
- âœ… ä¸°å¯Œçš„å¯è§†åŒ–è¾“å‡º
- âœ… å‘åå…¼å®¹æ—§æ ¼å¼

### æµç¨‹06æ”¹è¿›

- âœ… æ”¯æŒä¸‰ç§éªŒè¯æ•°æ®ç±»å‹ï¼ˆhealth/crack/corrosionï¼‰
- âœ… æ¯ç§ç±»å‹ä½¿ç”¨ç‹¬ç«‹çš„CAEæ–‡ä»¶
- âœ… ç‹¬ç«‹çš„å¤–éƒ¨å­˜å‚¨ç›®å½•
- âœ… å®Œæ•´ä¿ç•™å¼‚æ­¥åå¤„ç†åŠŸèƒ½
- âœ… çµæ´»çš„æ‰¹æ¬¡ç”Ÿæˆæ§åˆ¶
- âœ… ç»Ÿä¸€çš„æ—¥å¿—å’Œè¿›åº¦æ˜¾ç¤º

### æµç¨‹07æ”¹è¿› âœ¨

- âœ… æ‰¹é‡å¤„ç†ä¸‰ç§éªŒè¯æ•°æ®ç±»å‹
- âœ… å¤ç”¨æµç¨‹03çš„é¢„å¤„ç†é€»è¾‘ï¼ˆå®Œå…¨ç‹¬ç«‹å®ç°ï¼‰
- âœ… æ¯ç§ç±»å‹ç‹¬ç«‹è¾“å‡ºç›®å½•
- âœ… æ”¯æŒçµæ´»çš„æ•°æ®ç±»å‹é€‰æ‹©
- âœ… ç»Ÿä¸€çš„å¯è§†åŒ–é£æ ¼
- âœ… å®Œæ•´çš„è¿›åº¦åé¦ˆå’Œé”™è¯¯å¤„ç†
- âœ… ä¸åŸå§‹ preprocess_validate.py åŠŸèƒ½ç­‰ä»·ä½†æ›´æ¸…æ™°

### æµç¨‹08æ”¹è¿› âœ¨

- âœ… è‡ªåŒ…å«æ¨¡å‹å®šä¹‰ï¼ˆAutoencoderç±»å†…åµŒï¼‰
- âœ… æ”¯æŒä¸‰ç§é˜ˆå€¼è®¡ç®—æ–¹æ³•ï¼ˆquantile_abs/kstd_abs/mean_kstdï¼‰
- âœ… å…¨æ ·æœ¬æ£€æµ‹ï¼ˆä¸å†æŠ½æ ·ï¼‰
- âœ… 3x2å¸ƒå±€çš„æ®‹å·®ç»„åˆå›¾ï¼ˆéšæœºæ ·æœ¬+å¤±è´¥æ ·æœ¬ï¼‰
- âœ… 2x2å¸ƒå±€çš„æ£€æµ‹ç»Ÿè®¡æ±‡æ€»å›¾
- âœ… æ¯å¼ å›¾éƒ½æœ‰å¯¹åº”çš„CSVæ•°æ®æ–‡ä»¶
- âœ… å®Œæ•´çš„æ£€æµ‹æ€§èƒ½åˆ†æ
- âœ… æ¸…æ™°çš„æˆåŠŸ/å¤±è´¥æ ·æœ¬åŒºåˆ†

### æµç¨‹09æ”¹è¿› âœ¨

- âœ… åºŸå¼ƒ config_runtime.py ä¾èµ–ï¼Œå‚æ•°é›†ä¸­åœ¨è„šæœ¬é¡¶éƒ¨
- âœ… åºŸå¼ƒ utils/plotting.py ä¾èµ–ï¼Œç»˜å›¾å‡½æ•°å†…åµŒ
- âœ… åºŸå¼ƒ train_model.py å¯¼å…¥ï¼ŒAutoencoderç±»å†…åµŒ
- âœ… ç‹¬ç«‹è¾“å‡ºç›®å½•ï¼ˆæŒ‰æ•°æ®ç±»å‹åˆ†å­ç›®å½•ï¼‰
- âœ… è‡ªåŠ¨è®¡ç®—é˜ˆå€¼ï¼ˆæ”¯æŒä¸‰ç§æ–¹æ³•ï¼‰
- âœ… æ»‘åŠ¨çª—å£å¹³å‡ï¼ˆå¹³æ»‘è¶…é˜ˆå€¼å€æ•°æ³¢åŠ¨ï¼‰
- âœ… æ–°å¢3x3å­å›¾çƒ­åŠ›å›¾ï¼ˆå¯é€‰æ ·æœ¬ç´¢å¼•ï¼‰
- âœ… æ–°å¢å‰9å¸§ç»„åˆå›¾ï¼ˆå¸¦IDæ ‡æ³¨ï¼Œ300 dpiï¼‰
- âœ… æ”¯æŒå‘½ä»¤è¡Œå‚æ•°é€‰æ‹©æ•°æ®ç±»å‹
- âœ… å¤šç§è¾“å‡ºæ ¼å¼ï¼ˆMP4/GIFåŠ¨ç”»ï¼‰
- âœ… æ¯å¼ å›¾éƒ½æœ‰å¯¹åº”çš„CSVæ•°æ®æ–‡ä»¶
- âœ… å®Œå–„çš„é”™è¯¯å¤„ç†å’Œè¿›åº¦åé¦ˆ

## ğŸ“ˆ æ€§èƒ½å¯¹æ¯”

| æµç¨‹ | é‡æ„å‰è¿è¡Œæ—¶é—´ | é‡æ„åè¿è¡Œæ—¶é—´ | å˜åŒ– |
|------|----------------|----------------|------|
| æµç¨‹01 | ~45min (2000æ¬¡) | ~45min (2000æ¬¡) | â‰ˆ æŒå¹³ |
| æµç¨‹02 | ~5s | ~5s | â‰ˆ æŒå¹³ |
| æµç¨‹03 | ~30s | ~30s | â‰ˆ æŒå¹³ |
| æµç¨‹04 | ~10min | ~10min | â‰ˆ æŒå¹³ |
| æµç¨‹05 | ~10s | ~10s | â‰ˆ æŒå¹³ |
| æµç¨‹06 | ~150min (3Ã—100æ¬¡) | ~150min (3Ã—100æ¬¡) | â‰ˆ æŒå¹³ |
| æµç¨‹07 | ~90s (3Ã—100æ¬¡) | ~90s (3Ã—100æ¬¡) | â‰ˆ æŒå¹³ |
| æµç¨‹08 | ~15s (3Ã—100æ¬¡) | ~15s (3Ã—100æ¬¡) | â‰ˆ æŒå¹³ |
| æµç¨‹09 | ~3min (3Ã—100æ¬¡) | ~3min (3Ã—100æ¬¡) | â‰ˆ æŒå¹³ |

**è¯´æ˜**: é‡æ„ä¸»è¦æ”¹å–„ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§ï¼Œè¿è¡Œæ€§èƒ½åŸºæœ¬æŒå¹³ã€‚

## ğŸš€ åç»­å»ºè®®

### 1. è¿›ä¸€æ­¥ä¼˜åŒ–

- [ ] è€ƒè™‘ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼ˆJSON/YAMLï¼‰æ›¿ä»£ç¡¬ç¼–ç å‚æ•°
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•è¦†ç›–å…³é”®å‡½æ•°
- [ ] å®ç°è‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹
- [ ] æ·»åŠ æ€§èƒ½åˆ†æå·¥å…·

### 2. åŠŸèƒ½æ‰©å±•

- [ ] æ”¯æŒåˆ†å¸ƒå¼è®­ç»ƒ
- [ ] æ·»åŠ æ›´å¤šæ¨¡å‹æ¶æ„é€‰é¡¹
- [ ] å®ç°è¶…å‚æ•°è‡ªåŠ¨ä¼˜åŒ–
- [ ] å¢åŠ å®æ—¶ç›‘æ§é¢æ¿

### 3. æ–‡æ¡£å®Œå–„

- [ ] æ·»åŠ ä¸­è‹±æ–‡åŒè¯­æ–‡æ¡£
- [ ] åˆ¶ä½œè§†é¢‘æ•™ç¨‹
- [ ] ç¼–å†™æ•…éšœæ’é™¤æŒ‡å—
- [ ] å»ºç«‹FAQçŸ¥è¯†åº“

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. å‚æ•°è°ƒæ•´å»ºè®®

```python
# åˆæœŸæµ‹è¯•ï¼ˆå¿«é€ŸéªŒè¯ï¼‰
NUM_ITERATIONS = 10          # æµç¨‹01
PREPROCESS_MAX_FOLDERS = 10  # æµç¨‹03
AE_EPOCHS = 100              # æµç¨‹04
TEST_GRID_ROWS = 3           # æµç¨‹04
TEST_GRID_COLS = 3           # æµç¨‹04

# æ­£å¼è®­ç»ƒï¼ˆå®Œæ•´æ•°æ®ï¼‰
NUM_ITERATIONS = 2000        # æµç¨‹01
PREPROCESS_MAX_FOLDERS = 2000 # æµç¨‹03
AE_EPOCHS = 2000             # æµç¨‹04
TEST_GRID_ROWS = 5           # æµç¨‹04
TEST_GRID_COLS = 5           # æµç¨‹04
```

### 2. è¿è¡Œé¡ºåº

```bash
# å®Œæ•´å·¥ä½œæµ
python 01_generate_training_data_main.py   # ç”Ÿæˆè®­ç»ƒæ•°æ®
python 02_inp_to_vtu_main.py               # å‡†å¤‡VTUå’Œæµ‹ç‚¹æ˜ å°„
python 03_preprocess_training_data_main.py # é¢„å¤„ç†è®­ç»ƒæ•°æ®
python 04_train_model_main.py              # è®­ç»ƒæ¨¡å‹
python 05_determine_thresholds_main.py     # ç¡®å®šé˜ˆå€¼ï¼ˆå¯é€‰ï¼Œç‹¬ç«‹ç ”å‘ï¼‰
python 06_generate_validation_data_main.py # ç”ŸæˆéªŒè¯æ•°æ®ï¼ˆä¸‰ç§ç±»å‹ï¼‰
python 07_preprocess_validation_data_main.py # é¢„å¤„ç†éªŒè¯æ•°æ®ï¼ˆä¸‰ç§ç±»å‹ï¼‰
python 08_damage_validation_main.py        # æŸä¼¤è¯†åˆ«éªŒè¯
python 09_render_time_history_main.py      # æ—¶å†åŠ¨ç”»æ¸²æŸ“

# å¿«é€Ÿæµ‹è¯•æµç¨‹
python 04_train_model_main.py --mode=eval  # ä»…è¯„ä¼°ç°æœ‰æ¨¡å‹
python 05_determine_thresholds_main.py     # è°ƒæ•´é˜ˆå€¼æ–¹æ³•
python 09_render_time_history_main.py --type crack  # åªæ¸²æŸ“crackç±»å‹
```

### 3. è°ƒè¯•æŠ€å·§

```python
# å¯ç”¨è¯¦ç»†æ—¥å¿—
ENABLE_TIMING_LOG = 1         # æµç¨‹01
SHOW_PLOT_PROGRESS = True     # æµç¨‹03
SHOW_RANDOM25_PLOT = False    # æµç¨‹05ï¼ˆè·³è¿‡25ç»´è¯¦ç»†å›¾ï¼‰
```

## ğŸ“ å­¦ä¹ ä»·å€¼

æœ¬æ¬¡é‡æ„å±•ç¤ºäº†ä»¥ä¸‹æœ€ä½³å®è·µï¼š

1. **æ¨¡å—åŒ–è®¾è®¡**: åŠŸèƒ½åˆ†ç¦»ï¼ŒèŒè´£å•ä¸€
2. **å‚æ•°åŒ–é…ç½®**: çµæ´»å¯è°ƒï¼Œæ˜“äºå®éªŒ
3. **æ–‡æ¡£ä¼˜å…ˆ**: æ³¨é‡Šè¯¦ç»†ï¼Œæ–‡æ¡£å®Œæ•´
4. **é”™è¯¯å¤„ç†**: å¼‚å¸¸æ•è·ï¼Œå‹å¥½æç¤º
5. **ä»£ç è´¨é‡**: æ¸…æ™°æ˜“è¯»ï¼Œä¾¿äºç»´æŠ¤

---

**é‡æ„è´Ÿè´£äºº**: GitHub Copilot  
**é‡æ„å‘¨æœŸ**: æµç¨‹01-09å·²å®Œæˆ  
**æ€»ä½“çŠ¶æ€**: âœ… æµç¨‹01-09å…¨éƒ¨å®Œæˆ  
**ä»£ç è´¨é‡**: â­â­â­â­â­ ä¼˜ç§€  
**å¯ç»´æŠ¤æ€§**: â­â­â­â­â­ ä¼˜ç§€  
**æ–‡æ¡£å®Œæ•´æ€§**: â­â­â­â­â­ ä¼˜ç§€  

**ä¸‹ä¸€æ­¥**: å‡†å¤‡è¿›è¡Œæµç¨‹10ï¼ˆVTU 3Dæ¸²æŸ“åŠ¨ç”»ï¼‰åŠåç»­æµç¨‹çš„é‡æ„ï¼ğŸš€


---

## ğŸ“Š æµç¨‹09è¯¦ç»†ä¿¡æ¯

### æµç¨‹09ï¼šæ—¶å†åŠ¨ç”»æ¸²æŸ“ âœ¨ æ–°å¢

**è„šæœ¬åç§°**: `09_render_time_history_main.py`

**åŠŸèƒ½æè¿°**: 
- åŸºäºéªŒè¯æ•°æ®ç”Ÿæˆæµ‹ç‚¹æŸä¼¤å¯ç–‘åº¦éšæ—¶é—´å˜åŒ–çš„çƒ­åŠ›å›¾åŠ¨ç”»
- æ”¯æŒä¸‰ç§éªŒè¯æ•°æ®ç±»å‹ï¼ˆcrack/corrosion/healthï¼‰
- ä½¿ç”¨æ»‘åŠ¨çª—å£å¹³å‡æ–¹å¼å¹³æ»‘é€æ˜åº¦å˜åŒ–
- ç”Ÿæˆ4Ã—63çƒ­åŠ›å›¾åŠ¨ç”»ï¼ˆçº¢è‰²æ¸å˜ï¼‰

**è¾“å…¥æ–‡ä»¶**:
- `03_preprocess_training_data_output/preprocessed_data_raw.npz` - è®­ç»ƒæ•°æ®ï¼ˆç”¨äºè®¡ç®—é˜ˆå€¼ï¼‰
- `04_train_model_output/autoencoder.pth` - è®­ç»ƒå¥½çš„æ¨¡å‹
- `07_preprocess_validation_data_output/{type}/preprocessed_data_raw.npz` - éªŒè¯æ•°æ®

**è¾“å‡ºæ–‡ä»¶**:
```
09_render_time_history_output/
â”œâ”€â”€ dimension_thresholds.csv              # æ¯ä¸ªç»´åº¦çš„é˜ˆå€¼
â”œâ”€â”€ crack/
â”‚   â”œâ”€â”€ opacity_animation.mp4             # é€æ˜åº¦æ—¶å†åŠ¨ç”»
â”‚   â”œâ”€â”€ opacity_data.csv                  # é€æ˜åº¦æ—¶é—´åºåˆ—æ•°æ®
â”‚   â”œâ”€â”€ exceed_history.csv                # è¶…é˜ˆå€¼å€æ•°å†å²
â”‚   â”œâ”€â”€ first_9_frames_grid.png           # å‰9å¸§3x3ç»„åˆå¤§å›¾ï¼ˆ300 dpiï¼‰
â”‚   â”œâ”€â”€ opacity_heatmap_3x3_samples.png   # æŠ½æ ·3x3å­å›¾çƒ­åŠ›å›¾ï¼ˆ300 dpiï¼‰
â”‚   â””â”€â”€ opacity_heatmap_3x3_samples.csv   # 3x3å­å›¾æ•°æ®
â”œâ”€â”€ corrosion/
â”‚   â””â”€â”€ ...ï¼ˆç»“æ„åŒä¸Šï¼‰
â””â”€â”€ health/
    â””â”€â”€ ...ï¼ˆç»“æ„åŒä¸Šï¼‰
```

**å…³é”®ç‰¹æ€§**:
- âœ… è‡ªåŠ¨è®¡ç®—é˜ˆå€¼ï¼ˆæ”¯æŒä¸‰ç§æ–¹æ³•ï¼šquantile_abs/kstd_abs/mean_kstdï¼‰
- âœ… æ»‘åŠ¨çª—å£å¹³å‡ï¼ˆå¹³æ»‘è¶…é˜ˆå€¼å€æ•°æ³¢åŠ¨ï¼‰
- âœ… é€æ˜åº¦æ˜ å°„ï¼ˆ100%é€æ˜=ç™½è‰²ï¼Œ0%é€æ˜=æ·±çº¢è‰²ï¼‰
- âœ… æ‰¹é‡å¤„ç†ä¸‰ç§æ•°æ®ç±»å‹
- âœ… æ”¯æŒå‘½ä»¤è¡Œå‚æ•°é€‰æ‹©æ•°æ®ç±»å‹
- âœ… å¤šç§è¾“å‡ºæ ¼å¼ï¼ˆMP4/GIFåŠ¨ç”»ï¼Œé«˜åˆ†è¾¨ç‡PNGé™æ€å›¾ï¼‰
- âœ… è¯¦ç»†çš„CSVæ•°æ®ä¿å­˜ï¼ˆå¯è¿½æº¯åˆ†æï¼‰

**å‚æ•°é…ç½®**:
```python
# é˜ˆå€¼è®¡ç®—å‚æ•°
THRESHOLD_METHOD = "quantile_abs"  # é˜ˆå€¼æ–¹æ³•
THRESHOLD_QUANTILE = 0.95          # åˆ†ä½æ•°
THRESHOLD_K_SIGMA = 3.0            # kå€æ ‡å‡†å·®

# é€æ˜åº¦è®¡ç®—å‚æ•°
OPACITY_DECAY_FACTOR = 10.0        # è¡°å‡å› å­
OPACITY_WINDOW_SIZE = 10           # æ»‘åŠ¨çª—å£å¤§å°

# åŠ¨ç”»å‚æ•°
ANIMATION_FPS = 10                 # å¸§ç‡
SAVE_FORMAT = "mp4"                # ä¿å­˜æ ¼å¼
ANIMATION_DPI = 100                # åˆ†è¾¨ç‡
```

**æ‰§è¡Œæ–¹æ³•**:
```bash
# å¤„ç†æ‰€æœ‰ç±»å‹
python 09_render_time_history_main.py

# åªå¤„ç†crackç±»å‹
python 09_render_time_history_main.py --type crack

# å¤„ç†å¤šä¸ªç±»å‹
python 09_render_time_history_main.py --type crack corrosion
```

**å…¸å‹è¿è¡Œæ—¶é—´**: 
- 100ä¸ªæ ·æœ¬ï¼šçº¦1~3åˆ†é’Ÿ
- åŒ…æ‹¬é˜ˆå€¼è®¡ç®—ã€é€æ˜åº¦è®¡ç®—ã€åŠ¨ç”»ç”Ÿæˆã€é™æ€å›¾æ¸²æŸ“

**æ”¹è¿›ç‚¹**:
- âœ… åºŸå¼ƒ `config_runtime.py` ä¾èµ–ï¼Œå‚æ•°é›†ä¸­åœ¨è„šæœ¬é¡¶éƒ¨
- âœ… åºŸå¼ƒ `utils/plotting.py` ä¾èµ–ï¼Œç»˜å›¾å‡½æ•°å†…åµŒ
- âœ… åºŸå¼ƒ `train_model.py` å¯¼å…¥ï¼ŒAutoencoderç±»å†…åµŒ
- âœ… ç‹¬ç«‹è¾“å‡ºç›®å½•ï¼ˆæŒ‰æ•°æ®ç±»å‹åˆ†å­ç›®å½•ï¼‰
- âœ… æ–°å¢3x3å­å›¾çƒ­åŠ›å›¾ï¼ˆå¯é€‰æ ·æœ¬ç´¢å¼•ï¼‰
- âœ… æ–°å¢å‰9å¸§ç»„åˆå›¾ï¼ˆå¸¦IDæ ‡æ³¨ï¼‰
- âœ… æ‰€æœ‰å›¾ç‰‡éƒ½æœ‰å¯¹åº”çš„CSVæ•°æ®æ–‡ä»¶
- âœ… å®Œå–„çš„é”™è¯¯å¤„ç†å’Œè¿›åº¦åé¦ˆ
- âœ… è¯¦ç»†çš„READMEæ–‡æ¡£

**æ³¨æ„äº‹é¡¹**:
- æ¨¡å‹æ¶æ„å‚æ•°å¿…é¡»ä¸æµç¨‹04ä¸€è‡´
- é˜ˆå€¼è®¡ç®—æ–¹æ³•å»ºè®®ä¸æµç¨‹08ä¸€è‡´
- MP4æ ¼å¼éœ€è¦FFmpegï¼Œå¦åˆ™è‡ªåŠ¨é™çº§ä¸ºGIF
- åŠ¨ç”»ç”Ÿæˆå¯èƒ½å ç”¨è¾ƒå¤§å†…å­˜

